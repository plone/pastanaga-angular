<pa-demo-page>
    <pa-demo-title>Select</pa-demo-title>

    <pa-demo-description>
        <p><code>pa-select</code> is similar to a native select element, allowing to select a value from a set of options and apply pastanaga's form field style.</p>
        <p>As other pastanaga's form fields, <code>pa-select</code> supports 4 modes internally: <strong>standalone</strong>, <strong>model</strong>, <strong>formControl</strong> and <strong>formControlName</strong>, in order to be used in various context.</p>
        <p><code>pa-select</code> also supports internal and external validation.</p><br>
        <p>There are 2 ways to provide options to pa-select: directly in the template or programmatically using <code>BaseControlModels</code></p>
        <h3>Static options</h3>
        <p>using dropdown module's components:</p>
        <pre><code>{{paOptionUsage}}</code></pre>
        <h3>Dynamic options</h3>
        <p>using BaseControlModels (<code>OptionModel</code> | <code>OptionSeparator</code> | <code>OptionHeaderModel</code>)</p>
        <pre><code>{{baseControlModelsUsage}}</code></pre>
        <p><strong>Important note:</strong> by design, it is possible to mark an <code>OptionModel</code> or <code>pa-option</code> component as selected,
            but this won't work for <code>pa-select</code>.
            To assign a value to the form control (and so select an option), you should use <code>value</code>, <code>ngModel</code> or <code>formControl</code>.
            <code>pa-select</code> controls its children, not the opposite.</p>
    </pa-demo-description>

    <pa-demo-examples>
        <pa-select [(ngModel)]="model"
                   name="selectExample"
                   required
                   placeholder="Placeholder"
                   label="Required select"
                   help="Display the error state by clicking in this select but not selecting any value"
                   [errorMessages]="{required: 'Error message: required'}">
            <pa-option value="value1">Option 1</pa-option>
            <pa-option value="value2">Option 2</pa-option>
            <pa-option value="value3">Option 3</pa-option>
        </pa-select>

        <pa-tabs>
            <pa-tab (click)="selectedTab = 'standalone'"
                    [active]="selectedTab === 'standalone'">Standalone</pa-tab>
            <pa-tab (click)="selectedTab = 'ngModel'"
                    [active]="selectedTab === 'ngModel'">NgModel</pa-tab>
            <pa-tab (click)="selectedTab = 'formControl'"
                    [active]="selectedTab === 'formControl'">Form Control</pa-tab>
            <pa-tab (click)="selectedTab = 'formControlName'"
                    [active]="selectedTab === 'formControlName'">Form Control Name</pa-tab>
        </pa-tabs>

        <pa-demo-select-standalone-example *ngIf="selectedTab === 'standalone'" [dropdownContent]="dropdownContent"></pa-demo-select-standalone-example>
        <pa-demo-select-ng-model-example *ngIf="selectedTab === 'ngModel'" [dropdownContent]="dropdownContent"></pa-demo-select-ng-model-example>
        <pa-demo-select-form-control-example *ngIf="selectedTab === 'formControl'" [dropdownContent]="dropdownContent"></pa-demo-select-form-control-example>
        <pa-demo-select-form-group-example *ngIf="selectedTab === 'formControlName'" [dropdownContent]="dropdownContent"></pa-demo-select-form-group-example>

    </pa-demo-examples>

    <pa-demo-usage>
        <h2>Inherited from <code>PaFormControlDirective</code></h2>
        <pa-demo-pa-form-control-usage></pa-demo-pa-form-control-usage>

        <br>
        <h2>Specific to <code>SelectComponent</code></h2>
        <h3>Inputs</h3>
        <dl>
            <dt>adjustHeight</dt>
            <dd>allow to make sure the selection list will not go under the window bottom <small>(default: false)</small></dd>

            <dt>errorMessages</dt>
            <dd>Provides default messages to display for the possible error keys when none is present in the errors object. If a message (string) is provided for a given key, it
                will be displayed rather than the message provided in errorMessages.
            </dd>

            <dt>hasFocus</dt>
            <dd>triggers the focus on the input field <small>(optional)</small></dd>

            <dt>help</dt>
            <dd>A hint to display, helping the user when filling a form field <small>(optional)</small></dd>

            <dt>label</dt>
            <dd>Field's label</dd>

            <dt>options</dt>
            <dd>Option list to be displayed in the dropdown <small>(optional: can be set directly in the DOM)</small></dd>

            <dt>placeholder</dt>
            <dd>Field's placeholder <small>(optional)</small></dd>

            <dt>required</dt>
            <dd>Adds an internal <code>Validators.required</code> <small>(default: false)</small></dd>

            <dt>showAllErrors</dt>
            <dd>Display all errors or only the first error encountered (errors being sorted by key) <small>(default:
                true)</small></dd>
        </dl>

        <h3>Outputs</h3>
        <dl>
            <dt>expanded</dt>
            <dd>Emits <code>true</code> when the dropdown is opened, and <code>false</code> when it is closed.</dd>
        </dl>
    </pa-demo-usage>

    <pa-demo-code>
        <pa-tabs>
            <pa-tab (click)="selectedTab = 'standalone'"
                    [active]="selectedTab === 'standalone'">Standalone</pa-tab>
            <pa-tab (click)="selectedTab = 'ngModel'"
                    [active]="selectedTab === 'ngModel'">NgModel</pa-tab>
            <pa-tab (click)="selectedTab = 'formControl'"
                    [active]="selectedTab === 'formControl'">Form Control</pa-tab>
            <pa-tab (click)="selectedTab = 'formControlName'"
                    [active]="selectedTab === 'formControlName'">Form Control Name</pa-tab>
        </pa-tabs>
        <div *ngIf="selectedTab === 'standalone'">
            <h3>basic usage</h3>
            You can declare the options directly in the template:
            <pre><code>{{standaloneBasicCode}}</code></pre>
            Or you can pass the options as a parameter:
            <pre><code>{{standaloneBasicCodeOptionsTs}}</code></pre>
            <pre><code>{{standaloneBasicCodeOptionsHtml}}</code></pre>
            <h3>full usage</h3>
            <pre><code>{{standaloneFullCode}}</code></pre>
        </div>

        <div *ngIf="selectedTab === 'ngModel'">
            <pre><code>{{ngModelBasicCode}}</code></pre>
        </div>

        <div *ngIf="selectedTab === 'formControl'">
            <pre><code>{{formControlCodeTs}}</code></pre>
            <pre><code>{{formControlCodeHtml}}</code></pre>
        </div>

        <div *ngIf="selectedTab === 'formControlName'">
            <pre><code>{{formControlNameCodeTs}}</code></pre>
            <pre><code>{{formControlNameCodeHtml}}</code></pre>
        </div>

    </pa-demo-code>
</pa-demo-page>
