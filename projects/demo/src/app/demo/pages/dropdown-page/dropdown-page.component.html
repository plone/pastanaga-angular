<pa-demo-page>
    <pa-demo-title>Dropdown</pa-demo-title>
    <pa-demo-description>
        <p>
            Dropdown component allows to display a list of options in a popup.
            It can be used to build a contextual menu for example.
        </p>
        <p>
            <code>PaDropdownModule</code> contains every thing you need to build your dropdowns:
        </p>
        <ul>
            <li><code>DropdownComponent</code>: brings the popup behaviour and is mainly a wrapper for the list of options using the following components</li>
            <li><code>OptionHeaderComponent</code>: header allowing to group options</li>
            <li><code>OptionComponent</code>: option item</li>
            <li><code>SeparatorComponent</code>: option separator</li>
        </ul>
    </pa-demo-description>

    <pa-demo-examples>
        <div>
            <pa-dropdown stayVisible>
                <pa-option-header>Dropdown header</pa-option-header>
                <pa-option icon="image" id="menu-item-1" (selectOption)="onSelect($event)">Icon on left</pa-option>
                <pa-option disabled iconOnRight icon="info" id="menu-item-2" (selectOption)="onSelect($event)">Icon on right & disabled</pa-option>
                <pa-option icon="folder" id="menu-item-3"
                           description="Very long description which has an ellipsis and a tooltip allowing to read it all."
                           (selectOption)="onSelect($event)">Icon on left</pa-option>
                <pa-separator></pa-separator>
                <pa-option icon="trash" destructive id="menu-item-destructive" (selectOption)="onSelect($event)">Icon on left & destructive item</pa-option>
            </pa-dropdown>
        </div>


        <div>
            <pa-button icon="more-horizontal" size="small"
                       [paPopup]="contextualMenu"></pa-button>

            <pa-dropdown #contextualMenu>
                <pa-option (selectOption)="onSelect($event)">Dropdown item 1</pa-option>
                <pa-option (selectOption)="onSelect($event)">Dropdown item 2</pa-option>
                <pa-option (selectOption)="onSelect($event)">Dropdown item 3</pa-option>
                <pa-separator></pa-separator>
                <pa-option destructive dontCloseOnSelect (selectOption)="onSelect($event)">Dropdown item destructive</pa-option>
            </pa-dropdown>
        </div>

        <div>
            <pa-button [paPopup]="level1" sameWidth>
                <div style="display: flex; align-items: center">
                    Multi-level dropdown
                    <pa-icon name="chevron-down"></pa-icon>
                </div>
            </pa-button>

            <pa-dropdown #level1 [companionElement]="level2Element?.nativeElement">
                <pa-option icon="chevron-right"
                           iconOnRight
                           dontCloseOnSelect
                           [popupPosition]="{position: 'relative', left: '100%', top: '4px'}"
                           [paPopup]="level2"
                           [selected]="level1Open === 'jedi'"
                           (selectOption)="onLevel1Selection('jedi')">Jedi</pa-option>
                <pa-option icon="chevron-right"
                           iconOnRight
                           dontCloseOnSelect
                           [popupPosition]="{position: 'relative', left: '100%', top: '44px'}"
                           [paPopup]="level2"
                           [selected]="level1Open === 'rebels'"
                           (selectOption)="onLevel1Selection('rebels')">Rebels</pa-option>
                <pa-option icon="chevron-right"
                           iconOnRight
                           dontCloseOnSelect
                           [popupPosition]="{position: 'relative', left: '100%', top: '84px'}"
                           [paPopup]="level2"
                           [selected]="level1Open === 'sith'"
                           (selectOption)="onLevel1Selection('sith')">Sith</pa-option>
            </pa-dropdown>

            <pa-dropdown #level2>
                <pa-option dontCloseOnSelect *ngFor="let option of level2Options">
                    <pa-checkbox>{{option.label}}</pa-checkbox>
                </pa-option>
            </pa-dropdown>
        </div>
    </pa-demo-examples>

    <pa-demo-usage>
        <h2><code>DropdownComponent</code></h2>
        <p>Brings the popup behaviour and is mainly a wrapper for the list of options. It works with <code>ng-content</code>.</p>

        <h3>Inputs</h3>
        <dl>
            <dt>role</dt>
            <dd>listbox | menu <small>(default: menu)</small></dd>
        </dl>
        <br>
        <h2><code>OptionComponent</code></h2>
        <h3>Inputs</h3>
        <dl>
            <dt>avatar</dt>
            <dd>Avatar to display on the left side of the option. <small>(optional)</small></dd>

            <dt>description</dt>
            <dd>Description to display below the option label. <small>(optional)</small></dd>

            <dt>destructive</dt>
            <dd>Set destructive color <small>(default: false)</small></dd>

            <dt>disabled</dt>
            <dd>Set disabled state <small>(default: false)</small></dd>

            <dt>dontCloseOnSelect</dt>
            <dd>Don't close the menu when selecting this item <small>(default: false â€“ by default selecting an option is closing the menu)</small></dd>

            <dt>icon</dt>
            <dd>Icon name to be used for <code>pa-icon</code> <small>(optional)</small></dd>

            <dt>readonly</dt>
            <dd>Set readonly state <small>(default: false)</small></dd>

            <dt>iconOnRight</dt>
            <dd>Display the icon to the right of the option <small>(default: false)</small></dd>

            <dt>selected</dt>
            <dd>Set selected state <small>(default: false)</small></dd>

            <dt>value</dt>
            <dd>Option value</dd>
        </dl>

        <h3>Outputs</h3>
        <dl>
            <dt>selectOption</dt>
            <dd>Event emitted when clicking (or pressing enter) on the option.</dd>
        </dl>
    </pa-demo-usage>

    <pa-demo-code>
        <strong>Simple menu</strong>
        <pre><code>{{codeExample}}</code></pre>

        <strong>Multi-level dropdown</strong><br>
        Template:
        <pre><code>{{multiLevelTemplate}}</code></pre>

        Script:
        <pre><code>{{multiLevelScript}}</code></pre>
    </pa-demo-code>
</pa-demo-page>
